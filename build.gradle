/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */ //

allprojects {
    repositories {
        maven { url 'http://maven.aliyun.com/nexus/content/groups/public/' }
    }
}

buildscript {
    ext {
        springBootVersion = '2.1.6.RELEASE'
    }

    repositories {
        jcenter()
        mavenLocal()
        mavenCentral()
        maven { url 'http://maven.aliyun.com/nexus/content/groups/public/' }
        maven { url "http://repo.spring.io/release" }
        maven { url "http://repo.spring.io/milestone" }
        maven { url "http://repo.spring.io/snapshot" }
    }
    dependencies {
        classpath "org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}"
        classpath "com.github.adrianbk:gradle-jvmsrc-plugin:0.6.1"
    }
}

subprojects {
    apply plugin: 'java'
    apply plugin: 'eclipse'
    apply plugin: 'idea'
    apply plugin : 'application'                    //must be include if run main method

    apply plugin: 'org.springframework.boot'
    apply plugin: 'io.spring.dependency-management' //if use this element,there is something wrong when run the application(such as: using redis)

    // plugins {
    //   id "org.springframework.boot"
    // }

    repositories {
        jcenter()
        mavenLocal()
        mavenCentral()
    }

    dependencies {
        compile "joda-time:joda-time:2.2"
        compile group: 'org.springframework.boot', name: 'spring-boot-starter-web'




        // https://mvnrepository.com/artifact/org.springframework/spring-web

//        compile group: 'org.springframework', name: 'spring-web', version: '5.0.5.RELEASE'

        //RestTemplate要用这个
        compile("com.fasterxml.jackson.core:jackson-databind")
        compile "org.apache.httpcomponents:httpclient"

        //spring boot web
        compile("org.springframework.boot:spring-boot-starter-thymeleaf:2.0.1.RELEASE")
        // if use above element,there is something wrong when run the application(such as: using redis)，but nothing now

        compile("org.springframework.boot:spring-boot-devtools:2.0.1.RELEASE")
        // if use above element,there is something wrong when run the application(such as: using redis)，but nothing now

        compile 'mysql:mysql-connector-java:8.0.11'

        //just inteceptor use this element
        compile 'org.apache.commons:commons-lang3'

        //spring session
//        compile group: 'org.springframework.session', name: 'spring-session-data-redis', version: '2.0.2.RELEASE'
//        compile "org.springframework.boot:spring-boot-starter-data-redis"

        //这个地方调试了好长时间，如果用spring session，下面这个两个compile 依赖是最稳定的，不过经过从官网下载的文件看，上面两个也可以
        //官网:https://docs.spring.io/spring-session/docs/current/reference/html5/guides/boot-redis.html#boot-running，搜索 source code
        //进入目录：spring-session-2.0.2.RELEASE\samples\boot\redis
        //查看spring-session-sample-boot-redis.gradle 文件，查找里面的依赖即可

//        compile group: 'org.springframework.boot', name: 'spring-boot-starter-data-redis', version: '1.5.2.RELEASE'
//        compile group: 'org.springframework.session', name: 'spring-session', version: '1.3.0.RELEASE'

        //配置log4j
        // compile group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.11.0'
        // compile group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.11.0'


        testCompile 'junit:junit'

    }


}